# Configuración de Buckets y Modelos Disponibles
# ================================================

# Buckets principales
BUCKET_DATASETS = "gs://datasets-training_9b"
BUCKET_MODELS_20B = "gs://gpt-oss-20b-models"
BUCKET_MODELS_120B = "gs://gpt-oss-120b-models"
BUCKET_CHECKPOINTS = "gs://checkpoints-capibara6"

# Modelos disponibles
MODEL_20B_PATH = "gs://gpt-oss-20b-models/gpt-oss-20b"
MODEL_120B_PATH = "gs://gpt-oss-120b-models/gpt-oss-120b"

# Checkpoints de fine-tuning
CHECKPOINT_20B_BASE = "gs://gpt-oss-20b-models/checkpoints/base"
CHECKPOINT_20B_FINETUNED = "gs://checkpoints-capibara6/gpt-oss-20b-finetuned"
CHECKPOINT_120B_BASE = "gs://gpt-oss-120b-models/checkpoints/base"
CHECKPOINT_120B_FINETUNED = "gs://checkpoints-capibara6/gpt-oss-120b-finetuned"

# Datasets
DATASET_ORIGINAL = "gs://datasets-training_9b/datasets/original"
DATASET_NEW = "gs://datasets-training_9b/datasets/new_dataset"
DATASET_EVAL = "gs://datasets-training_9b/eval"

# Vocabularios
VOCAB_20B = "gs://gpt-oss-20b-models/vocab/spiece.model"
VOCAB_120B = "gs://gpt-oss-120b-models/vocab/spiece.model"

# Configuración de disco de 1 Petabyte
# ===================================
# El disco de 1PB debe montarse en la VM TPU para almacenar:
# - Modelos grandes (120B)
# - Checkpoints de entrenamiento
# - Datasets procesados
# - Logs de entrenamiento

# Comando para montar disco de 1PB:
# sudo mkdir -p /mnt/1pb-storage
# sudo mount -o discard,defaults /dev/sdb /mnt/1pb-storage
# echo '/dev/sdb /mnt/1pb-storage ext4 discard,defaults 0 2' | sudo tee -a /etc/fstab

# Estructura recomendada en disco de 1PB:
# /mnt/1pb-storage/
# ├── models/
# │   ├── gpt-oss-20b/
# │   └── gpt-oss-120b/
# ├── checkpoints/
# │   ├── base/
# │   └── finetuned/
# ├── datasets/
# │   ├── original/
# │   ├── processed/
# │   └── eval/
# └── logs/
#     ├── training/
#     └── tensorboard/

# Variables de entorno para usar disco local
export LOCAL_STORAGE_PATH="/mnt/1pb-storage"
export MODEL_20B_LOCAL="${LOCAL_STORAGE_PATH}/models/gpt-oss-20b"
export MODEL_120B_LOCAL="${LOCAL_STORAGE_PATH}/models/gpt-oss-120b"
export CHECKPOINTS_LOCAL="${LOCAL_STORAGE_PATH}/checkpoints"
export DATASETS_LOCAL="${LOCAL_STORAGE_PATH}/datasets"
