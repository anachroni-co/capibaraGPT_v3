# Advanced RAG 2.0 Configuration for Capibara-6
# Optimized for TPU v6e-64 deployment

[rag]
embedding_dim = 768
max_context_length = 1048576  # 1M tokens
chunk_size = 512
overlap_size = 64
retrieval_k = 10
rerank_k = 5

[features]
use_semantic_chunking = true
use_hypothetical_questions = true
enable_memory_compression = true
memory_retention_days = 30

[performance]
routing_cache_size = 1000
lazy_loading_timeout = 30.0

[integration]
use_tpu_kernels = true
enable_monitoring = true

[semantic_chunking]
# Configuration for semantic document chunking
min_chunk_size = 100
max_chunk_size = 1024
overlap_ratio = 0.125  # 12.5% overlap
use_sentence_boundaries = true
preserve_paragraphs = true

[episodic_memory]
# Configuration for episodic memory system
max_episodes = 10000
similarity_threshold = 0.3
access_decay_factor = 0.95
cleanup_interval_hours = 24

[hypothetical_questions]
# Configuration for hypothetical question generation
max_questions_per_document = 5
question_types = ["what", "how", "why", "when", "where"]
min_sentence_length = 20

[reranking]
# Configuration for document reranking
use_cross_encoder = false  # Use simple overlap for now
boost_recent_documents = true
recency_weight = 0.1
diversity_penalty = 0.05

[memory_compression]
# Configuration for memory compression
compression_threshold = 0.8  # Compress when context > 80% of max
remove_duplicates = true
preserve_key_phrases = true
min_sentence_score = 0.3

[monitoring]
# Configuration for RAG monitoring
log_retrieval_stats = true
track_context_usage = true
monitor_compression_ratio = true
alert_on_low_confidence = true
confidence_threshold = 0.5

[caching]
# Configuration for RAG caching
enable_embedding_cache = true
cache_ttl_hours = 168  # 1 week
max_cache_size_mb = 1024  # 1GB
cache_compression = true

[tpu_optimization]
# TPU v6e-64 specific optimizations
use_bf16_embeddings = true
batch_retrieval = true
parallel_reranking = true
optimize_for_throughput = true