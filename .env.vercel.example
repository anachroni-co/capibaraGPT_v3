# ============================================
# VARIABLES DE ENTORNO PARA VERCEL
# Capibara6 - Configuración de Producción
# ============================================
#
# INSTRUCCIONES:
# 1. Copia estas variables a tu proyecto en Vercel Dashboard
# 2. Settings → Environment Variables
# 3. Añade cada variable con su valor
# 4. Deploy de nuevo para que apliquen los cambios
#
# Red VPC: default (10.204.0.0/24)
# Zona: europe-southwest1-b
# Actualizado: 2025-12-01
# ============================================

# ============================================
# MODELOS DE IA - models-europe VM
# ============================================

# vLLM Multi-Model Server (PRINCIPAL)
# Puerto: 8080
# Modelos: phi4_fast, mistral_balanced, qwen_coder, gemma3_multimodal, aya_expanse
VLLM_URL=http://34.175.48.2:8080/v1/chat/completions
VLLM_COMPLETIONS_URL=http://34.175.48.2:8080/v1/completions
VLLM_MODELS_URL=http://34.175.48.2:8080/v1/models
VLLM_HEALTH_URL=http://34.175.48.2:8080/health

# Ollama (FALLBACK - funciona perfectamente)
# Puerto: 11434
# Modelos: gpt-oss:20b, mistral:latest, phi3:mini, smollm2:135m
OLLAMA_URL=http://34.175.48.2:11434/api/generate
OLLAMA_CHAT_URL=http://34.175.48.2:11434/api/chat
OLLAMA_VERSION_URL=http://34.175.48.2:11434/api/version

# ============================================
# SERVICIOS - services VM
# ============================================

# TTS - Text-to-Speech
# Puerto: 5002 (según especificación VPC)
# Tecnología: Coqui TTS / gTTS
TTS_URL=http://34.175.255.139:5002/speak
TTS_HEALTH_URL=http://34.175.255.139:5002/health
TTS_VOICES_URL=http://34.175.255.139:5002/voices
TTS_CLONE_URL=http://34.175.255.139:5002/clone

# MCP - Model Context Protocol
# Puertos: 5003 (principal), 5010 (alternativo)
MCP_BASE_URL=http://34.175.255.139:5003/api/mcp
MCP_HEALTH_URL=http://34.175.255.139:5003/api/mcp/health
MCP_TOOLS_URL=http://34.175.255.139:5003/api/mcp/tools
MCP_AUGMENT_URL=http://34.175.255.139:5003/api/mcp/augment

# MCP Fallback (puerto alternativo 5010)
MCP_FALLBACK_URL=http://34.175.255.139:5010/health
MCP_ANALYZE_URL=http://34.175.255.139:5010/analyze

# Gateway API (con Semantic Router y Circuit Breaker)
# Puerto: 8080
GATEWAY_API_URL=http://34.175.255.139:8080/api/chat
GATEWAY_HEALTH_URL=http://34.175.255.139:8080/api/health

# Flask API
# Puerto: 5000
FLASK_API_URL=http://34.175.255.139:5000/api
FLASK_HEALTH_URL=http://34.175.255.139:5000/api/health

# N8N - Workflow Automation
# Puerto: 5678
N8N_URL=http://34.175.255.139:5678

# ============================================
# RAG & BASES DE DATOS - rag-europe VM
# ============================================

# Bridge API (cuando esté activo)
# Puerto: 8000
BRIDGE_API_URL=http://34.175.110.120:8000
BRIDGE_HEALTH_URL=http://34.175.110.120:8000/health

# Nebula Studio (UI de Nebula Graph)
# Puerto: 7001
NEBULA_STUDIO_URL=http://34.175.110.120:7001

# ============================================
# SEGURIDAD
# ============================================

# API Key para comunicación inter-VM
# Esta key se usa para autenticar requests entre VMs
INTER_VM_API_KEY=TaKnyUy9Yqhxme6PmbUXHTX3rjq_3XF1HPMQQXW-29w

# ============================================
# CONFIGURACIÓN ADICIONAL
# ============================================

# Ambiente
ENVIRONMENT=production

# Timeouts (en milisegundos)
VLLM_TIMEOUT=30000
OLLAMA_TIMEOUT=30000
TTS_TIMEOUT=30000
MCP_TIMEOUT=5000

# Límites
MAX_PROMPT_LENGTH=10000
MAX_TTS_LENGTH=3000

# ============================================
# NOTAS IMPORTANTES
# ============================================
#
# SERVICIOS ACTIVOS (listos para usar):
# - ✅ Ollama (models-europe:11434)
# - ✅ Gateway API (services:8080)
# - ✅ MCP Server (services:5003)
# - ✅ N8N (services:5678)
# - ✅ Flask API (services:5000)
# - ✅ NGINX (services:80/443)
#
# SERVICIOS QUE REQUIEREN ATENCIÓN:
# - ⚠️ vLLM (models-europe:8080) - Proceso colgado, necesita reinicio
# - ⚠️ TTS (services:5002) - Verificar si está en puerto 5001 o 5002
# - ⚠️ MCP puerto 5010 - Verificar disponibilidad
# - ❌ Bridge API (rag-europe:8000) - No está corriendo, necesita iniciar
#
# ARQUITECTURA:
# - Red VPC compartida (10.204.0.0/24)
# - Latencia entre VMs < 1ms
# - Comunicación interna usando IPs privadas
# - Vercel usa IPs públicas (34.175.x.x)
#
# ============================================
